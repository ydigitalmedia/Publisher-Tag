/*! Package version 4.1.1 - Created by YDigital Media 2018-08-02 */!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("ydigital/tag-publisher",[],a());else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.YD=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(require,module,exports){!function(exports){"function"!=typeof exports.decycle&&(exports.decycle=function(a){"use strict";var b=[],c=[];return function a(d,e){var f,g,h;switch(typeof d){case"object":if(!d)return null;for(f=0;f<b.length;f+=1)if(b[f]===d)return{$ref:c[f]};if(b.push(d),c.push(e),"[object Array]"===Object.prototype.toString.apply(d))for(h=[],f=0;f<d.length;f+=1)h[f]=a(d[f],e+"["+f+"]");else{h={};for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&(h[g]=a(d[g],e+"["+JSON.stringify(g)+"]"))}return h;case"number":case"string":case"boolean":return d}}(a,"$")}),"function"!=typeof exports.retrocycle&&(exports.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)(item=value[i])&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name])&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item))}($),$})}(void 0!==exports?exports:window.JSON?window.JSON:window.JSON={})},{}],2:[function(a,b,c){var d=a(3),e=a(1);d.decycle=e.decycle,d.retrocycle=e.retrocycle,b.exports=d},{1:1,3:3}],3:[function(require,module,exports){!function(JSON){"use strict";function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}void 0===exports&&("function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=function(a){return this.valueOf()}),"function"!=typeof Number.prototype.toJSON&&(Number.prototype.toJSON=function(a){return this.valueOf()}),"function"!=typeof Boolean.prototype.toJSON&&(Boolean.prototype.toJSON=function(a){return this.valueOf()}));var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(void 0!==exports?exports:window.JSON?window.JSON:window.JSON={})},{}],4:[function(a,b,c){!function(a){"use strict";function c(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function d(a,b){return a<<b|a>>>32-b}function e(a,b,e,f,g,h){return c(d(c(c(b,a),c(f,h)),g),e)}function f(a,b,c,d,f,g,h){return e(b&c|~b&d,a,b,f,g,h)}function g(a,b,c,d,f,g,h){return e(b&d|c&~d,a,b,f,g,h)}function h(a,b,c,d,f,g,h){return e(b^c^d,a,b,f,g,h)}function i(a,b,c,d,f,g,h){return e(c^(b|~d),a,b,f,g,h)}function j(a,b){a[b>>5]|=128<<b%32,a[14+(b+64>>>9<<4)]=b;var d,e,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)e=m,j=n,k=o,l=p,m=f(m,n,o,p,a[d],7,-680876936),p=f(p,m,n,o,a[d+1],12,-389564586),o=f(o,p,m,n,a[d+2],17,606105819),n=f(n,o,p,m,a[d+3],22,-1044525330),m=f(m,n,o,p,a[d+4],7,-176418897),p=f(p,m,n,o,a[d+5],12,1200080426),o=f(o,p,m,n,a[d+6],17,-1473231341),n=f(n,o,p,m,a[d+7],22,-45705983),m=f(m,n,o,p,a[d+8],7,1770035416),p=f(p,m,n,o,a[d+9],12,-1958414417),o=f(o,p,m,n,a[d+10],17,-42063),n=f(n,o,p,m,a[d+11],22,-1990404162),m=f(m,n,o,p,a[d+12],7,1804603682),p=f(p,m,n,o,a[d+13],12,-40341101),o=f(o,p,m,n,a[d+14],17,-1502002290),n=f(n,o,p,m,a[d+15],22,1236535329),m=g(m,n,o,p,a[d+1],5,-165796510),p=g(p,m,n,o,a[d+6],9,-1069501632),o=g(o,p,m,n,a[d+11],14,643717713),n=g(n,o,p,m,a[d],20,-373897302),m=g(m,n,o,p,a[d+5],5,-701558691),p=g(p,m,n,o,a[d+10],9,38016083),o=g(o,p,m,n,a[d+15],14,-660478335),n=g(n,o,p,m,a[d+4],20,-405537848),m=g(m,n,o,p,a[d+9],5,568446438),p=g(p,m,n,o,a[d+14],9,-1019803690),o=g(o,p,m,n,a[d+3],14,-187363961),n=g(n,o,p,m,a[d+8],20,1163531501),m=g(m,n,o,p,a[d+13],5,-1444681467),p=g(p,m,n,o,a[d+2],9,-51403784),o=g(o,p,m,n,a[d+7],14,1735328473),n=g(n,o,p,m,a[d+12],20,-1926607734),m=h(m,n,o,p,a[d+5],4,-378558),p=h(p,m,n,o,a[d+8],11,-2022574463),o=h(o,p,m,n,a[d+11],16,1839030562),n=h(n,o,p,m,a[d+14],23,-35309556),m=h(m,n,o,p,a[d+1],4,-1530992060),p=h(p,m,n,o,a[d+4],11,1272893353),o=h(o,p,m,n,a[d+7],16,-155497632),n=h(n,o,p,m,a[d+10],23,-1094730640),m=h(m,n,o,p,a[d+13],4,681279174),p=h(p,m,n,o,a[d],11,-358537222),o=h(o,p,m,n,a[d+3],16,-722521979),n=h(n,o,p,m,a[d+6],23,76029189),m=h(m,n,o,p,a[d+9],4,-640364487),p=h(p,m,n,o,a[d+12],11,-421815835),o=h(o,p,m,n,a[d+15],16,530742520),n=h(n,o,p,m,a[d+2],23,-995338651),m=i(m,n,o,p,a[d],6,-198630844),p=i(p,m,n,o,a[d+7],10,1126891415),o=i(o,p,m,n,a[d+14],15,-1416354905),n=i(n,o,p,m,a[d+5],21,-57434055),m=i(m,n,o,p,a[d+12],6,1700485571),p=i(p,m,n,o,a[d+3],10,-1894986606),o=i(o,p,m,n,a[d+10],15,-1051523),n=i(n,o,p,m,a[d+1],21,-2054922799),m=i(m,n,o,p,a[d+8],6,1873313359),p=i(p,m,n,o,a[d+15],10,-30611744),o=i(o,p,m,n,a[d+6],15,-1560198380),n=i(n,o,p,m,a[d+13],21,1309151649),m=i(m,n,o,p,a[d+4],6,-145523070),p=i(p,m,n,o,a[d+11],10,-1120210379),o=i(o,p,m,n,a[d+2],15,718787259),n=i(n,o,p,m,a[d+9],21,-343485551),m=c(m,e),n=c(n,j),o=c(o,k),p=c(p,l);return[m,n,o,p]}function k(a){var b,c="",d=32*a.length;for(b=0;b<d;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function l(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;var d=8*a.length;for(b=0;b<d;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function m(a){return k(j(l(a),8*a.length))}function n(a,b){var c,d,e=l(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=j(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=j(f.concat(l(b)),512+8*b.length),k(j(g.concat(d),640))}function o(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function p(a){return unescape(encodeURIComponent(a))}function q(a){return m(p(a))}function r(a){return o(q(a))}function s(a,b){return n(p(a),p(b))}function t(a,b){return o(s(a,b))}function u(a,b,c){return b?c?s(b,a):t(b,a):c?q(a):r(a)}"function"==typeof define&&define.amd?define(function(){return u}):"object"==typeof b&&b.exports?b.exports=u:a.md5=u}(this)},{}],5:[function(a,b,c){(function(a){"use strict";b.exports=function(a){if(a.atob&&a.atob.original)return{atob:a.atob,btoa:a.btoa};if(a.atob){try{a.atob(" "),a.atob.original=a.atob}catch(b){a.atob=function(a){var b=function(b){return a(String(b).replace(/[\t\n\f\r ]+/g,""))};return b.original=a,b}(a.atob)}return{atob:a.atob,btoa:a.btoa}}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;return a.btoa=function(a){a=String(a);for(var c,d,e,f,g="",h=0,i=a.length%3;h<a.length;){if((d=a.charCodeAt(h++))>255||(e=a.charCodeAt(h++))>255||(f=a.charCodeAt(h++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");c=d<<16|e<<8|f,g+=b.charAt(c>>18&63)+b.charAt(c>>12&63)+b.charAt(c>>6&63)+b.charAt(63&c)}return i?g.slice(0,i-3)+"===".substring(i):g},a.atob=function(a){if(a=String(a).replace(/[\t\n\f\r ]+/g,""),!c.test(a))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");a+="==".slice(2-(3&a.length));for(var d,e,f,g="",h=0;h<a.length;)d=b.indexOf(a.charAt(h++))<<18|b.indexOf(a.charAt(h++))<<12|(e=b.indexOf(a.charAt(h++)))<<6|(f=b.indexOf(a.charAt(h++))),g+=64===e?String.fromCharCode(d>>16&255):64===f?String.fromCharCode(d>>16&255,d>>8&255):String.fromCharCode(d>>16&255,d>>8&255,255&d);return g},{atob:a.atob,btoa:a.btoa}}(a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(a,b,c){(function(c){"use strict";if(!c.JSON||!c.JSON.parse||!c.JSON.stringify){var d=a(2);c.JSON&&c.JSON.parse||(c.JSON.parse=d.parse),c.JSON&&c.JSON.stringify||(c.JSON.stringify=d.stringify)}b.exports=c.JSON}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],7:[function(a,b,c){(function(b){"use strict";a(5),a(6);var c={isUrlValid:function(a){return!!a.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g)},ydTimestamp:function(a,b){return a.replace(/[\[{(](ord|timestamp|YD_TIMESTAMP)[\]})]/gi,b)},randIntFromInterval:function(a,c){return b.Math.floor(b.Math.random()*(c-a+1)+a)},encodeURI_RFC3986:function(a){return b.encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16)})},addParametersToURL:function(a,b){b=b.replace(/^[\s&?]+|[\s&?]+$/gm,"");var c=a.split("?");return 1===c.length?c.push(b):c[1]=c[1].replace(/[\s&?]+$/gm,"")+"&"+b,c.join("?")},processElement:function(c){var d=a(4),e=d((new Date).getTime()+"-"+this.randIntFromInterval(1,1e4));c.setAttribute("data-yd-id",e);var f=1,g=1,h="absolute",i="hidden",j="overflow:hidden;",k="margin:0;padding:0;",l="https://go.ydigitalmedia.com/",m="https://impressions.ydigitalmedia.com/",n=c.getAttribute("data-yd-placement"),o=c.getAttribute("data-yd-tc")||null,p=c.getAttribute("data-yd-impression-id")||null,q=c.getAttribute("data-yd-impression-tracker")||"",r=c.getAttribute("data-yd-click-tracker")||"",s=c.getAttribute("data-yd-lp")||"",t=c.getAttribute("data-yd-parameters");switch(c.getAttribute("data-yd-format")||"interstitial"){case"banner":j+="width:100% !important;height:100% !important;";break;case"interstitial":default:j+="width:100vw !important;height:100vh !important;position:fixed;top:0;bottom:0;left:0;right:0;",k+="width:100vw !important;height:100vh !important;overflow:hidden;"}var u,v,w,x,y,z=o||b.atob(n.split(".")[0])||"pt-0-factorytest-0-0-T",A=b.atob(n.split(".")[1]).replace(/^http(s)?:/g,""),B=b.atob(n.split(".")[2]),C="",D="",E="";""===q||this.isUrlValid(q)||(q=""),""===s||this.isUrlValid(s)||(s="");var F,G;t&&""!==t?(F=b.JSON.parse(t),F.yd_imp_id=e,F.ntw_impression_id=p||e):F={yd_imp_id:e,ntw_impression_id:p||e},G=b.Object.keys(F);for(var H=0;H<G.length;H++)C+="&"+this.encodeURI_RFC3986(G[H])+"="+this.encodeURI_RFC3986(F[G[H]]);D=this.addParametersToURL(l+z,C),o?r?D=r:s&&(D=this.addParametersToURL(D,"ncu="+this.encodeURI_RFC3986(this.addParametersToURL(s,C)))):s?(D=this.addParametersToURL(D,"ncu="+this.encodeURI_RFC3986(this.addParametersToURL(s,C))),r&&(D=r+D)):r&&(D=this.addParametersToURL(D,"ncu="+this.encodeURI_RFC3986(this.addParametersToURL(r,C)))),E=this.encodeURI_RFC3986(D),v='<style type="text/css">body, html{'+k+"}</style>",w=z?'<img src="'+m+"?yd="+z+C+'" width="'+f+'" height="'+g+'" style="position:'+h+"; visibility:"+i+'">':"",x=q?'<img src="'+q+'" width="'+f+'" height="'+g+'" style="position:'+h+"; visibility:"+i+'">':"",y='<object type="text/html" style="'+j+'" data="'+A+"?debug=1&yd="+z+C+"&ga="+B+"&ntw_click_url="+E+'"></object>',u=v+w+x+y,u=this.ydTimestamp(u,e),c.innerHTML+=u||""}};try{var d,e=b.document.getElementsByTagName("ins");for(d in e)e[d].getAttribute&&e[d].getAttribute("data-yd-placement")&&!e[d].getAttribute("data-yd-id")&&c.processElement(e[d])}catch(a){b.console.error(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{4:4,5:5,6:6}]},{},[7])(7)});
