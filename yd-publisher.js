/*! Package version 4.0.0 - Created by YDigital Media 2018-05-02 */!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("ydigital/tag-publisher",[],a());else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.YD=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(require,module,exports){!function(exports){"function"!=typeof exports.decycle&&(exports.decycle=function(a){"use strict";var b=[],c=[];return function a(d,e){var f,g,h;switch(typeof d){case"object":if(!d)return null;for(f=0;f<b.length;f+=1)if(b[f]===d)return{$ref:c[f]};if(b.push(d),c.push(e),"[object Array]"===Object.prototype.toString.apply(d))for(h=[],f=0;f<d.length;f+=1)h[f]=a(d[f],e+"["+f+"]");else{h={};for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&(h[g]=a(d[g],e+"["+JSON.stringify(g)+"]"))}return h;case"number":case"string":case"boolean":return d}}(a,"$")}),"function"!=typeof exports.retrocycle&&(exports.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)(item=value[i])&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name])&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item))}($),$})}(void 0!==exports?exports:window.JSON?window.JSON:window.JSON={})},{}],2:[function(a,b,c){var d=a(3),e=a(1);d.decycle=e.decycle,d.retrocycle=e.retrocycle,b.exports=d},{1:1,3:3}],3:[function(require,module,exports){!function(JSON){"use strict";function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}void 0===exports&&("function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=function(a){return this.valueOf()}),"function"!=typeof Number.prototype.toJSON&&(Number.prototype.toJSON=function(a){return this.valueOf()}),"function"!=typeof Boolean.prototype.toJSON&&(Boolean.prototype.toJSON=function(a){return this.valueOf()}));var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(void 0!==exports?exports:window.JSON?window.JSON:window.JSON={})},{}],4:[function(a,b,c){(function(a){"use strict";b.exports=function(a){if(a.atob&&a.atob.original)return{atob:a.atob,btoa:a.btoa};if(a.atob){try{a.atob(" "),a.atob.original=a.atob}catch(b){a.atob=function(a){var b=function(b){return a(String(b).replace(/[\t\n\f\r ]+/g,""))};return b.original=a,b}(a.atob)}return{atob:a.atob,btoa:a.btoa}}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;return a.btoa=function(a){a=String(a);for(var c,d,e,f,g="",h=0,i=a.length%3;h<a.length;){if((d=a.charCodeAt(h++))>255||(e=a.charCodeAt(h++))>255||(f=a.charCodeAt(h++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");c=d<<16|e<<8|f,g+=b.charAt(c>>18&63)+b.charAt(c>>12&63)+b.charAt(c>>6&63)+b.charAt(63&c)}return i?g.slice(0,i-3)+"===".substring(i):g},a.atob=function(a){if(a=String(a).replace(/[\t\n\f\r ]+/g,""),!c.test(a))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");a+="==".slice(2-(3&a.length));for(var d,e,f,g="",h=0;h<a.length;)d=b.indexOf(a.charAt(h++))<<18|b.indexOf(a.charAt(h++))<<12|(e=b.indexOf(a.charAt(h++)))<<6|(f=b.indexOf(a.charAt(h++))),g+=64===e?String.fromCharCode(d>>16&255):64===f?String.fromCharCode(d>>16&255,d>>8&255):String.fromCharCode(d>>16&255,d>>8&255,255&d);return g},{atob:a.atob,btoa:a.btoa}}(a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b,c){(function(c){"use strict";if(!c.JSON||!c.JSON.parse||!c.JSON.stringify){var d=a(2);c.JSON&&c.JSON.parse||(c.JSON.parse=d.parse),c.JSON&&c.JSON.stringify||(c.JSON.stringify=d.stringify)}b.exports=c.JSON}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],6:[function(a,b,c){(function(b){"use strict";a(4),a(5);var c={isUrlValid:function(a){return!!a.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g)},ydTimestamp:function(a,b){return a.replace(/[\[{(](ord|timestamp|YD_TIMESTAMP)[\]})]/gi,b)},processElement:function(a){var c=(new Date).getTime();a.setAttribute("data-yd-id",c);var d=1,e=1,f="absolute",g="hidden",h="overflow:hidden;",i="margin:0;padding:0;",j="https://go.ydigitalmedia.com/",k="https://impressions.ydigitalmedia.com/",l=a.getAttribute("data-yd-placement"),m=a.getAttribute("data-yd-impression-id")||null,n=a.getAttribute("data-yd-impression-tracker")||"",o=a.getAttribute("data-yd-click-tracker")||"",p=a.getAttribute("data-yd-lp")||"",q=a.getAttribute("data-yd-parameters");switch(a.getAttribute("data-yd-format")||"interstitial"){case"banner":h+="width:100% !important;height:100% !important;";break;case"interstitial":default:h+="width:100vw !important;height:100vh !important;position:fixed;top:0;bottom:0;left:0;right:0;",i+="width:100vw !important;height:100vh !important;overflow:hidden;"}var r,s,t,u,v,w=b.atob(l.split(".")[0])||"pt-0-factorytest-0-0-T",x=b.atob(l.split(".")[1]).replace(/^http(s)?:/g,""),y=b.atob(l.split(".")[2]),z="&ntw_impression_id="+(m||c),A="";if(""===n||this.isUrlValid(n)||(n=""),""===p||this.isUrlValid(p)||(p=""),q&&""!==q)for(var B=b.JSON.parse(q),C=b.Object.keys(B),D=0;D<C.length;D++)z+="&"+C[D]+"="+B[C[D]];A=j+w,p?(A+="?ncu="+b.encodeURIComponent(p),o&&(A=o+A)):o&&(A+="?ncu="+b.encodeURIComponent(o)),A=b.encodeURIComponent(A),s='<style type="text/css">body, html{'+i+"}</style>",t=w?'<img src="'+k+"?yd="+w+z+'" width="'+d+'" height="'+e+'" style="position:'+f+"; visibility:"+g+'">':"",u=n?'<img src="'+n+'" width="'+d+'" height="'+e+'" style="position:'+f+"; visibility:"+g+'">':"",v='<object type="text/html" style="'+h+'" data="'+x+"?yd="+w+z+"&ga="+y+"&ntw_click_url="+A+'"></object>',r=s+t+u+v,r=this.ydTimestamp(r,c),a.innerHTML+=r||""}};try{var d,e=b.document.getElementsByTagName("ins");for(d in e)e[d].getAttribute&&e[d].getAttribute("data-yd-placement")&&!e[d].getAttribute("data-yd-id")&&c.processElement(e[d])}catch(a){b.console.error(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{4:4,5:5}]},{},[6])(6)});
